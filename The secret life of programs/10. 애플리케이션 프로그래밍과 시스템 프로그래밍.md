# 10. 애플리케이션 프로그래밍과 시스템 프로그래밍
<br>

```
[Keypoint]
- 고수준 애플리케이션은 여러 소소한 세부 사항을 중간의 소프트웨어가 자동으로 처리해 주므로 작성하기가 더 쉽다.
- 간단한 애플리케이션을 작성하기 위해 복잡한 애플리케이션 환경을 사용하면 오히려 버그가 발생할 확률이 높아진다.
- 시스템 프로그래밍 쪽이 더 신경 써야할 세부사항이 많다(문자열 관리, 메모리 관리, 버퍼 관리 등). 
- 하지만, "간결하고 안전한 코드를 작성하는 것이 목표"라면 이런 세부사항이 중요하다.
```

### 1. 동물 추측 프로그램 버전1 : HTML, JS 프로그램 (애플리케이션 수준)
1. 브라우저라는 고수준 가상 머신을 활용해 프로그래밍하는 방식. 중요한 하부 구조를 감추면서 빠르고 쉽게 프로그램을 작성할 수 있다.
2. HTML로 뼈대를 만들고 CSS, JS를 삽입한다.
  - 먼저 뼈대를 2진 트리를 사용해서 DOM으로 구성
  - CSS, JS 삽입. JS는 노드 변수 설정
<br>

### 2. 동물 추측 프로그램 버전2 : C 프로그램 (시스템 수준)
1. 터미널과 명령줄
  - 명령줄(command line)을 사용하면 브라우저에 의존하지 않고 입출력이 이루어지는 방식을 이해할 수 있다.
  - 컴퓨터 상호작용 방식의 발전 : 버튼 누르기, 스위치 젖히기 > 문자 언어 > 제스처, 음성 인식
  - 프로그래밍은 터미널 '앱' 에서 명령 프롬프트(command prompt)를 열어서 원하는 문자를 타이핑하면 터미널이 응답하는 형태로 진행됨
2. 프로그램 빌드
  - 터미널은 I/O 장치이며 사용자 프로그램은 직접 I/O 장치와 통신하지 않음. 운영체제와 장치 드라이버가 터미널 - 사용자 프로그램 사이를 중재함
3. 터미널과 장치 드라이버, 문맥 전환
  - 운영체제가 사용자 프로그램을 다른 프로그램으로 바꿀 때 저장하고 복구해야 하는 모든 내용을 프로세스 문맥(process context)이라고 부른다. 
  - 문맥 크기가 커지면 시스템 비용이 비싸진다. 따라서 문맥 전환 횟수를 최소화하기 위해, 장치 드라이버는 터미널에서 들어오는 문자를 버퍼에 저장하고 필요할 때(enter를 누를 때) 사용자를 깨운다.
  - 버퍼는 선입선출(First in, First out) 데이터 구조이다. 사용자 키 입력은 프로그램이 디스플레이에 보내는 출력보다 느리기 때문에 입력 버퍼 외에도 출력 버퍼가 필요하다.
  - 드라이버 설정을 변경하기 위해 추가된 시스템 콜 : raw mode, cooked mode 
4. 표준 I/O
  - 표준 입력/출력 라이브러리에는 사용자 프로그램이 쓸 수 있는 버퍼 I/O 함수가 들어있다.
  - OPEN 시스템 콜은 파일 이름을 파일을 참조할 수 있는 핸들이나 파일 디스크립터로 바꿔 줌.
6. 원형 버퍼
  - (=원형 큐, 링 버퍼) 큐를 원형으로 구부려서 어느 공간이든 새로 입력되는 데이터를 빈 공간으로 유도하는 방법
7. 추상화를 활용한 코드 개선
  - 운영체제는 파일과 장치에 대해 똑같은 인터페이스를 제공한다.
  - 하지만 브라우저는 추상화를 자바스크립트를 통해 프로그래머에게 넘기지 않는다. (> 자바스크립트가 제공하는 기능 이외의 것을 쓸 수 없음)
  - 완전히 다른 인터페이스와 다른 코드를 사용해 새 기능을 추가해야 한다!
8. 런타임 라이브러리와 표준 입출력
  - 런타임 라이브러리는 스택과 힙을 설정해 사용할 수 있도록 준비하는 등의 설정을 담당한다.
  - 런타임 라이브러리는 추가로 터미널 장치 드라이버와 연관된 파일을 하나는 입력을 위해, 다른 하나는 출력을 위해 연다.
10. 버퍼오버플로 (buffer overflow)
  - 시스템 프로그래밍 오류의 일종

<br>
<br>
